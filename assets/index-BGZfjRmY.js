(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();class l{constructor(){this.theme=localStorage.getItem("theme")||"light",this.init()}init(){this.setTheme(this.theme),this.bindEvents()}setTheme(e){this.theme=e,document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),this.updateThemeIcons()}toggleTheme(){const e=this.theme==="light"?"dark":"light";this.setTheme(e)}updateThemeIcons(){document.querySelectorAll(".theme-toggle i").forEach(t=>{this.theme==="dark"?t.className="fas fa-sun":t.className="fas fa-moon"})}bindEvents(){document.querySelectorAll(".theme-toggle").forEach(t=>{t.addEventListener("click",()=>this.toggleTheme())})}}class a{constructor(){this.nav=document.querySelector(".nav-container"),this.mobileMenuBtn=document.getElementById("mobile-menu-btn"),this.mobileMenu=document.getElementById("mobile-menu"),this.isMenuOpen=!1,this.init()}init(){this.handleScroll(),this.bindEvents(),this.setActiveLink()}handleScroll(){window.addEventListener("scroll",()=>{window.scrollY>100?this.nav.classList.add("nav-scrolled"):this.nav.classList.remove("nav-scrolled")})}toggleMobileMenu(){this.isMenuOpen=!this.isMenuOpen,this.mobileMenu.classList.toggle("active",this.isMenuOpen),this.mobileMenuBtn.classList.toggle("active",this.isMenuOpen),document.body.style.overflow=this.isMenuOpen?"hidden":""}closeMobileMenu(){this.isMenuOpen=!1,this.mobileMenu.classList.remove("active"),this.mobileMenuBtn.classList.remove("active"),document.body.style.overflow=""}setActiveLink(){const e=window.location.pathname.split("/").pop()||"index.html";document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(s=>{s.classList.remove("active");const o=s.getAttribute("href");(o===e||e===""&&o==="index.html")&&s.classList.add("active")})}bindEvents(){this.mobileMenuBtn&&this.mobileMenuBtn.addEventListener("click",()=>this.toggleMobileMenu()),document.querySelectorAll(".mobile-nav-link").forEach(t=>{t.addEventListener("click",()=>this.closeMobileMenu())}),document.addEventListener("click",t=>{this.isMenuOpen&&!this.nav.contains(t.target)&&this.closeMobileMenu()}),window.addEventListener("resize",()=>{window.innerWidth>768&&this.isMenuOpen&&this.closeMobileMenu()})}}class c{constructor(){this.animatedElements=new Set,this.init()}init(){this.observeElements(),this.bindSmoothScroll()}observeElements(){const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&!this.animatedElements.has(o.target)&&(o.target.style.animationPlayState="running",this.animatedElements.add(o.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".fade-in-up, .fade-in-left, .fade-in-right, .project-card").forEach(s=>{s.style.animationPlayState="paused",e.observe(s)})}bindSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",s=>{s.preventDefault();const o=t.getAttribute("href").substring(1),i=document.getElementById(o);if(i){const r=i.offsetTop-80;window.scrollTo({top:r,behavior:"smooth"})}})})}}class d{constructor(){this.init()}init(){"IntersectionObserver"in window?this.observeImages():this.loadAllImages()}observeImages(){const e=new IntersectionObserver(s=>{s.forEach(o=>{if(o.isIntersecting){const i=o.target;this.loadImage(i),e.unobserve(i)}})},{rootMargin:"50px"});document.querySelectorAll(".lazy-load").forEach(s=>e.observe(s))}loadImage(e){e.style.opacity="0",e.style.transition="opacity 0.3s ease-in-out",e.addEventListener("load",()=>{e.style.opacity="1",e.classList.add("loaded")}),e.addEventListener("error",()=>{e.style.opacity="1",e.classList.add("error"),console.warn("Failed to load image:",e.src)}),e.dataset.src?e.src=e.dataset.src:(e.style.opacity="1",e.classList.add("loaded"))}loadAllImages(){document.querySelectorAll(".lazy-load").forEach(t=>this.loadImage(t))}}class m{constructor(){this.forms=document.querySelectorAll("form"),this.init()}init(){this.bindFormEvents()}bindFormEvents(){this.forms.forEach(e=>{e.addEventListener("submit",s=>this.handleFormSubmit(s)),e.querySelectorAll("input, textarea, select").forEach(s=>{s.addEventListener("blur",()=>this.validateField(s)),s.addEventListener("input",()=>this.clearError(s))})})}handleFormSubmit(e){e.preventDefault();const t=e.target;this.validateForm(t)&&this.submitForm(t)}validateForm(e){let t=!0;return e.querySelectorAll("input[required], textarea[required], select[required]").forEach(o=>{this.validateField(o)||(t=!1)}),t}validateField(e){const t=e.value.trim(),s=e.type;e.name;let o=!0,i="";return e.hasAttribute("required")&&!t?(o=!1,i="This field is required."):s==="email"&&t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(o=!1,i="Please enter a valid email address."):s==="tel"&&t&&(/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/[\s\-\(\)]/g,""))||(o=!1,i="Please enter a valid phone number.")),this.showFieldError(e,o?"":i),o}showFieldError(e,t){const s=document.getElementById(`${e.name}-error`);s&&(s.textContent=t,s.classList.toggle("show",!!t)),e.classList.toggle("error",!!t)}clearError(e){this.showFieldError(e,"")}async submitForm(e){const t=e.querySelector('button[type="submit"]'),s=t.querySelector(".btn-text"),o=t.querySelector(".btn-loading");s.classList.add("hidden"),o.classList.remove("hidden"),t.disabled=!0;try{await this.simulateFormSubmission(e),this.showFormSuccess(e)}catch(i){console.error("Form submission error:",i),alert("There was an error submitting the form. Please try again.")}finally{s.classList.remove("hidden"),o.classList.add("hidden"),t.disabled=!1}}simulateFormSubmission(e){return new Promise(t=>{setTimeout(()=>{console.log("Form submitted:",new FormData(e)),t()},2e3)})}showFormSuccess(e){const t=document.getElementById("form-success");t&&(e.style.display="none",t.classList.remove("hidden"),setTimeout(()=>{e.reset(),e.style.display="block",t.classList.add("hidden")},5e3))}}class u{constructor(){this.faqItems=document.querySelectorAll(".faq-item"),this.init()}init(){this.bindEvents()}bindEvents(){this.faqItems.forEach(e=>{e.querySelector(".faq-question").addEventListener("click",()=>this.toggleFAQ(e))})}toggleFAQ(e){const t=e.classList.contains("active");this.faqItems.forEach(s=>{s!==e&&s.classList.remove("active")}),e.classList.toggle("active",!t)}}class h{constructor(){this.init()}init(){this.optimizeImages(),this.preloadCriticalResources()}optimizeImages(){document.querySelectorAll("img").forEach(t=>{t.hasAttribute("loading")||t.setAttribute("loading","lazy"),t.addEventListener("error",()=>{t.style.display="none",console.warn("Failed to load image:",t.src)})})}preloadCriticalResources(){["https://images.pexels.com/photos/323780/pexels-photo-323780.jpeg","https://images.pexels.com/photos/1643383/pexels-photo-1643383.jpeg"].forEach(t=>{const s=document.createElement("link");s.rel="preload",s.as="image",s.href=t,document.head.appendChild(s)})}}document.addEventListener("DOMContentLoaded",()=>{new l,new a,new c,new d,new m,new u,new h,f(),window.addEventListener("error",n=>{console.error("Global error:",n.error)}),"performance"in window&&window.addEventListener("load",()=>{const n=performance.timing.loadEventEnd-performance.timing.navigationStart;console.log(`Page load time: ${n}ms`)})});function f(){const n=document.querySelector(".hero-title"),e=document.querySelector(".hero-subtitle"),t=document.querySelector(".hero-buttons");n&&setTimeout(()=>{n.style.opacity="1",n.style.transform="translateY(0)"},500),e&&setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},700),t&&setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},900)}const g={debounce(n,e){let t;return function(...o){const i=()=>{clearTimeout(t),n(...o)};clearTimeout(t),t=setTimeout(i,e)}},throttle(n,e){let t;return function(){const s=arguments,o=this;t||(n.apply(o,s),t=!0,setTimeout(()=>t=!1,e))}},getOffset(n){const e=n.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},isInViewport(n){const e=n.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}};window.ArchStudio={ThemeManager:l,NavigationManager:a,ScrollAnimationManager:c,LazyLoadManager:d,FormManager:m,FAQManager:u,PerformanceManager:h,utils:g};
